<div class="machines-container">
  <div class="machines-header">
    <h1>Our Vinyl Bending Machines</h1>
    <p>Choose the perfect machine for your stair installation needs</p>
  </div>

  <div class="machines-grid">
    <p-card *ngFor="let machine of machines" [styleClass]="machine.id">
      <ng-template pTemplate="header">
        <div class="machine-image" (click)="showFullImage(machine.imageUrl)">
          <img [src]="getMainImage(machine)" [alt]="machine.name">
        </div>
      </ng-template>
      
      <h2>{{machine.name}}</h2>
      <p class="description">{{machine.description}}</p>
      
      <h3>Features:</h3>
      <ul>
        <li *ngFor="let feature of machine.features">{{feature}}</li>
      </ul>
      
      <div class="versions">
        <h3>Available Versions:</h3>
        <div class="version-item" *ngFor="let version of machine.versions">
          <span class="size">{{version.size}} Model</span>
          <span class="price">${{version.price.toLocaleString()}}</span>
        </div>
      </div>
      
      <ng-template pTemplate="footer">
        <div class="card-footer">
          <p-button 
            icon="pi pi-whatsapp"
            label="Ask about this product" 
            styleClass="p-button-success"
            (onClick)="askAboutProduct(machine.name)">
          </p-button>
        </div>
      </ng-template>
    </p-card>
  </div>

  <p-dialog 
    [(visible)]="displayImageDialog" 
    [modal]="true" 
    [dismissableMask]="true"
    [closeOnEscape]="true"
    [style]="{width: '90vw', maxWidth: '1200px'}"
    styleClass="image-dialog">
    <div class="fullscreen-image">
      <img [src]="selectedImage" alt="Imagen ampliada">
    </div>
  </p-dialog>
</div>